@import url('https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400;1,700&family=Inter:wght@100..900&family=Crimson+Pro:ital,wght@0,200..900;1,200..900&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ═══════════════════════════════════════════════════════════════════════
   LISAN - Professional Quranic Linguistic Analyzer Design System
   Manuscript-inspired · Restrained · Scholarly · Timeless
   ═══════════════════════════════════════════════════════════════════════ */

@layer base {
  :root {
    /* Elevation System */
    --button-outline: rgba(0,0,0, .08);
    --badge-outline: rgba(0,0,0, .04);
    --opaque-button-border-intensity: -6;
    --elevate-1: rgba(0,0,0, .02);
    --elevate-2: rgba(0,0,0, .06);

    /* Core Palette: Refined Parchment & Emerald */
    --background: 42 25% 97%;           /* Soft parchment white */
    --foreground: 168 55% 16%;          /* Deep emerald-black */
    --border: 40 18% 86%;               /* Subtle warm gray */
    
    --card: 42 20% 99%;                 /* Pure warm white */
    --card-foreground: 168 50% 18%;
    --card-border: 40 15% 90%;
    
    --sidebar: 42 22% 96%;
    --sidebar-foreground: 168 50% 18%;
    --sidebar-border: 40 16% 88%;
    --sidebar-primary: 168 70% 24%;     /* Scholarly emerald */
    --sidebar-primary-foreground: 42 15% 98%;
    --sidebar-accent: 42 18% 92%;
    --sidebar-accent-foreground: 168 45% 20%;
    --sidebar-ring: 168 65% 28%;
    
    --popover: 42 22% 98%;
    --popover-foreground: 168 48% 20%;
    --popover-border: 40 15% 88%;
    
    --primary: 168 70% 24%;             /* Deep emerald */
    --primary-foreground: 42 15% 98%;
    
    --secondary: 40 16% 90%;
    --secondary-foreground: 168 45% 22%;
    
    --muted: 40 14% 92%;
    --muted-foreground: 168 30% 42%;
    
    --accent: 43 68% 48%;               /* Classical gold */
    --accent-foreground: 42 10% 98%;
    
    --destructive: 0 62% 38%;
    --destructive-foreground: 0 10% 98%;
    
    --input: 40 14% 82%;
    --ring: 168 62% 32%;
    
    /* Chart Colors - Restrained */
    --chart-1: 168 58% 42%;
    --chart-2: 43 60% 52%;
    --chart-3: 205 55% 48%;
    --chart-4: 345 50% 44%;
    --chart-5: 25 52% 50%;
    
    /* Refined Shadows */
    --shadow-2xs: 0px 1px 2px 0px hsl(168 20% 20% / 0.04);
    --shadow-xs: 0px 1px 3px 0px hsl(168 20% 20% / 0.06);
    --shadow-sm: 0px 2px 4px -1px hsl(168 20% 20% / 0.08);
    --shadow: 0px 3px 6px -1px hsl(168 20% 20% / 0.10);
    --shadow-md: 0px 4px 8px -2px hsl(168 20% 20% / 0.12);
    --shadow-lg: 0px 6px 12px -3px hsl(168 20% 20% / 0.14);
    --shadow-xl: 0px 10px 20px -4px hsl(168 20% 20% / 0.16);
    --shadow-2xl: 0px 16px 32px -6px hsl(168 20% 20% / 0.18);
    
    /* Computed Borders */
    --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
    --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
    --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
    --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
    --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
    --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
    --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
  }

  .dark {
    --button-outline: rgba(255,255,255, .10);
    --badge-outline: rgba(255,255,255, .05);
    --opaque-button-border-intensity: 8;
    --elevate-1: rgba(255,255,255, .03);
    --elevate-2: rgba(255,255,255, .08);
    
    --background: 215 28% 10%;
    --foreground: 210 14% 92%;
    --border: 215 22% 18%;
    --card: 215 26% 12%;
    --card-foreground: 210 12% 90%;
    --card-border: 215 24% 16%;
    --sidebar: 215 30% 11%;
    --sidebar-foreground: 210 12% 90%;
    --sidebar-border: 215 26% 15%;
    --sidebar-primary: 166 68% 26%;
    --sidebar-primary-foreground: 166 10% 96%;
    --sidebar-accent: 215 28% 16%;
    --sidebar-accent-foreground: 210 10% 88%;
    --sidebar-ring: 166 62% 30%;
    --popover: 215 28% 12%;
    --popover-foreground: 210 10% 88%;
    --popover-border: 215 24% 16%;
    --primary: 166 68% 26%;
    --primary-foreground: 166 10% 96%;
    --secondary: 215 26% 18%;
    --secondary-foreground: 210 8% 86%;
    --muted: 215 28% 20%;
    --muted-foreground: 210 10% 62%;
    --accent: 215 30% 22%;
    --accent-foreground: 210 8% 84%;
    --destructive: 0 58% 34%;
    --destructive-foreground: 0 8% 96%;
    --input: 215 22% 28%;
    --ring: 166 58% 32%;
    --chart-1: 166 58% 58%;
    --chart-2: 45 65% 62%;
    --chart-3: 200 55% 58%;
    --chart-4: 280 45% 62%;
    --chart-5: 25 55% 58%;
    --shadow-2xs: 0px 2px 0px 0px hsl(215 60% 6% / 0.15);
    --shadow-xs: 0px 2px 0px 0px hsl(215 60% 6% / 0.18);
    --shadow-sm: 0px 2px 0px 0px hsl(215 60% 6% / 0.22), 0px 1px 2px -1px hsl(215 60% 6% / 0.26);
    --shadow: 0px 2px 0px 0px hsl(215 60% 6% / 0.26), 0px 1px 2px -1px hsl(215 60% 6% / 0.30);
    --shadow-md: 0px 2px 0px 0px hsl(215 60% 6% / 0.30), 0px 2px 4px -1px hsl(215 60% 6% / 0.34);
    --shadow-lg: 0px 2px 0px 0px hsl(215 60% 6% / 0.34), 0px 4px 6px -1px hsl(215 60% 6% / 0.38);
    --shadow-xl: 0px 2px 0px 0px hsl(215 60% 6% / 0.38), 0px 8px 10px -1px hsl(215 60% 6% / 0.42);
    --shadow-2xl: 0px 2px 0px 0px hsl(215 60% 6% / 0.42);
    
    --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
    --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
    --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
    --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
    --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
    --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
    --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
  }
}

/* ═══════════════════════════════════════════════════════════════════════
   PRAYER TIME THEMES - Auto-switching based on Islamic prayer times
   ═══════════════════════════════════════════════════════════════════════ */

/* Fajr (04:30-06:30) - Pre-dawn Contemplation */
.theme-fajr {
  --button-outline: rgba(255,255,255, .10);
  --badge-outline: rgba(255,255,255, .05);
  --opaque-button-border-intensity: 8;
  --elevate-1: rgba(255,255,255, .03);
  --elevate-2: rgba(255,255,255, .08);
  
  /* Deep twilight - the sacred pre-dawn hour */
  --background: 225 32% 14%;
  --foreground: 220 16% 90%;
  --border: 225 24% 22%;
  --card: 225 28% 17%;
  --card-foreground: 220 14% 88%;
  --card-border: 225 26% 20%;
  --sidebar: 225 34% 15%;
  --sidebar-foreground: 220 14% 88%;
  --sidebar-border: 225 28% 20%;
  --sidebar-primary: 195 62% 40%;
  --sidebar-primary-foreground: 0 0% 100%;
  --sidebar-accent: 225 30% 20%;
  --sidebar-accent-foreground: 220 12% 86%;
  --sidebar-ring: 195 62% 40%;
  --popover: 225 30% 16%;
  --popover-foreground: 220 12% 86%;
  --popover-border: 225 26% 20%;
  --primary: 195 62% 40%;
  --primary-foreground: 0 0% 100%;
  --secondary: 225 28% 24%;
  --secondary-foreground: 220 10% 84%;
  --muted: 225 30% 22%;
  --muted-foreground: 220 10% 64%;
  --accent: 270 32% 34%;
  --accent-foreground: 220 8% 82%;
  --destructive: 0 56% 36%;
  --destructive-foreground: 0 0% 100%;
  --input: 225 24% 30%;
  --ring: 195 62% 40%;
  --chart-1: 195 55% 52%;
  --chart-2: 270 40% 56%;
  --chart-3: 220 45% 56%;
  --chart-4: 240 38% 52%;
  --chart-5: 180 45% 52%;
  --shadow-2xs: 0px 2px 0px 0px hsl(225 60% 8% / 0.18);
  --shadow-xs: 0px 2px 0px 0px hsl(225 60% 8% / 0.22);
  --shadow-sm: 0px 2px 0px 0px hsl(225 60% 8% / 0.26), 0px 1px 2px -1px hsl(225 60% 8% / 0.30);
  --shadow: 0px 2px 0px 0px hsl(225 60% 8% / 0.30), 0px 1px 2px -1px hsl(225 60% 8% / 0.34);
  --shadow-md: 0px 2px 0px 0px hsl(225 60% 8% / 0.34), 0px 2px 4px -1px hsl(225 60% 8% / 0.38);
  --shadow-lg: 0px 2px 0px 0px hsl(225 60% 8% / 0.38), 0px 4px 6px -1px hsl(225 60% 8% / 0.42);
  --shadow-xl: 0px 2px 0px 0px hsl(225 60% 8% / 0.42), 0px 8px 10px -1px hsl(225 60% 8% / 0.46);
  --shadow-2xl: 0px 2px 0px 0px hsl(225 60% 8% / 0.46);
  
  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
}

/* Dhuhr (11:45-14:30) - Midday Scholar's Light */
.theme-dhuhr {
  /* Uses default :root values for bright scholarly daylight */
}

/* Maghrib (17:00-19:00) - Sunset Reflection */
.theme-maghrib {
  --button-outline: rgba(0,0,0, .08);
  --badge-outline: rgba(0,0,0, .04);
  --opaque-button-border-intensity: -6;
  --elevate-1: rgba(0,0,0, .02);
  --elevate-2: rgba(0,0,0, .06);
  
  /* Warm golden hour - peaceful transition */
  --background: 36 32% 92%;
  --foreground: 28 42% 20%;
  --border: 36 22% 80%;
  --card: 36 28% 95%;
  --card-foreground: 28 38% 22%;
  --card-border: 36 24% 86%;
  --sidebar: 36 30% 90%;
  --sidebar-foreground: 28 38% 22%;
  --sidebar-border: 36 24% 82%;
  --sidebar-primary: 20 62% 38%;
  --sidebar-primary-foreground: 0 0% 100%;
  --sidebar-accent: 36 26% 86%;
  --sidebar-accent-foreground: 28 36% 24%;
  --sidebar-ring: 20 62% 38%;
  --popover: 36 30% 93%;
  --popover-foreground: 28 36% 24%;
  --popover-border: 36 24% 84%;
  --primary: 20 62% 38%;
  --primary-foreground: 0 0% 100%;
  --secondary: 36 24% 82%;
  --secondary-foreground: 28 34% 26%;
  --muted: 36 22% 86%;
  --muted-foreground: 28 28% 42%;
  --accent: 42 65% 46%;
  --accent-foreground: 0 0% 100%;
  --destructive: 0 58% 36%;
  --destructive-foreground: 0 0% 100%;
  --input: 36 20% 74%;
  --ring: 20 62% 38%;
  --chart-1: 20 56% 52%;
  --chart-2: 42 58% 54%;
  --chart-3: 28 52% 50%;
  --chart-4: 8 48% 48%;
  --chart-5: 52 54% 54%;
  --shadow-2xs: 0px 1px 2px 0px hsl(28 35% 22% / 0.06);
  --shadow-xs: 0px 1px 3px 0px hsl(28 35% 22% / 0.08);
  --shadow-sm: 0px 2px 4px -1px hsl(28 35% 22% / 0.10);
  --shadow: 0px 3px 6px -1px hsl(28 35% 22% / 0.12);
  --shadow-md: 0px 4px 8px -2px hsl(28 35% 22% / 0.14);
  --shadow-lg: 0px 6px 12px -3px hsl(28 35% 22% / 0.16);
  --shadow-xl: 0px 10px 20px -4px hsl(28 35% 22% / 0.18);
  --shadow-2xl: 0px 16px 32px -6px hsl(28 35% 22% / 0.20);
  
  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
}

/* Isha (19:30+) - Night Contemplation */
.theme-isha {
  --button-outline: rgba(255,255,255, .10);
  --badge-outline: rgba(255,255,255, .05);
  --opaque-button-border-intensity: 8;
  --elevate-1: rgba(255,255,255, .03);
  --elevate-2: rgba(255,255,255, .08);
  
  /* Deep peaceful night - restful contemplation */
  --background: 215 30% 10%;
  --foreground: 210 14% 90%;
  --border: 215 24% 18%;
  --card: 215 28% 13%;
  --card-foreground: 210 12% 88%;
  --card-border: 215 26% 16%;
  --sidebar: 215 32% 11%;
  --sidebar-foreground: 210 12% 88%;
  --sidebar-border: 215 28% 16%;
  --sidebar-primary: 175 52% 34%;
  --sidebar-primary-foreground: 0 0% 100%;
  --sidebar-accent: 215 28% 16%;
  --sidebar-accent-foreground: 210 10% 86%;
  --sidebar-ring: 175 52% 34%;
  --popover: 215 30% 12%;
  --popover-foreground: 210 10% 86%;
  --popover-border: 215 26% 16%;
  --primary: 175 52% 34%;
  --primary-foreground: 0 0% 100%;
  --secondary: 215 26% 20%;
  --secondary-foreground: 210 8% 84%;
  --muted: 215 28% 18%;
  --muted-foreground: 210 10% 62%;
  --accent: 215 32% 22%;
  --accent-foreground: 210 8% 82%;
  --destructive: 0 54% 35%;
  --destructive-foreground: 0 0% 100%;
  --input: 215 24% 28%;
  --ring: 175 52% 34%;
  --chart-1: 175 48% 52%;
  --chart-2: 200 42% 52%;
  --chart-3: 215 38% 52%;
  --chart-4: 245 34% 52%;
  --chart-5: 190 42% 52%;
  --shadow-2xs: 0px 2px 0px 0px hsl(215 60% 6% / 0.18);
  --shadow-xs: 0px 2px 0px 0px hsl(215 60% 6% / 0.22);
  --shadow-sm: 0px 2px 0px 0px hsl(215 60% 6% / 0.26), 0px 1px 2px -1px hsl(215 60% 6% / 0.30);
  --shadow: 0px 2px 0px 0px hsl(215 60% 6% / 0.30), 0px 1px 2px -1px hsl(215 60% 6% / 0.34);
  --shadow-md: 0px 2px 0px 0px hsl(215 60% 6% / 0.34), 0px 2px 4px -1px hsl(215 60% 6% / 0.38);
  --shadow-lg: 0px 2px 0px 0px hsl(215 60% 6% / 0.38), 0px 4px 6px -1px hsl(215 60% 6% / 0.42);
  --shadow-xl: 0px 2px 0px 0px hsl(215 60% 6% / 0.42), 0px 8px 10px -1px hsl(215 60% 6% / 0.46);
  --shadow-2xl: 0px 2px 0px 0px hsl(215 60% 6% / 0.46);
  
  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased bg-background text-foreground;
  }

  /* Smooth theme transitions */
  html,
  body {
    transition: background-color 1s ease-in-out, color 1s ease-in-out;
  }
  
  [class*="bg-"],
  [class*="text-"],
  [class*="border-"] {
    transition: background-color 1s ease-in-out, color 1s ease-in-out, border-color 1s ease-in-out;
  }
}

@layer utilities {
  input[type="search"]::-webkit-search-cancel-button {
    @apply hidden;
  }

  [contenteditable][data-placeholder]:empty::before {
    content: attr(data-placeholder);
    color: hsl(var(--muted-foreground));
    pointer-events: none;
  }

  .no-default-hover-elevate {}
  .no-default-active-elevate {}

  .toggle-elevate::before,
  .toggle-elevate-2::before {
    content: "";
    pointer-events: none;
    position: absolute;
    inset: 0px;
    border-radius: inherit;
    z-index: -1;
  }

  .toggle-elevate.toggle-elevated::before {
    background-color: var(--elevate-2);
  }

  .border.toggle-elevate::before {
    inset: -1px;
  }

  .hover-elevate:not(.no-default-hover-elevate),
  .active-elevate:not(.no-default-active-elevate),
  .hover-elevate-2:not(.no-default-hover-elevate),
  .active-elevate-2:not(.no-default-active-elevate) {
    position: relative;
    z-index: 0;
  }

  .hover-elevate:not(.no-default-hover-elevate)::after,
  .active-elevate:not(.no-default-active-elevate)::after,
  .hover-elevate-2:not(.no-default-hover-elevate)::after,
  .active-elevate-2:not(.no-default-active-elevate)::after {
    content: "";
    pointer-events: none;
    position: absolute;
    inset: 0px;
    border-radius: inherit;
    z-index: 999;
  }

  .hover-elevate:hover:not(.no-default-hover-elevate)::after,
  .active-elevate:active:not(.no-default-active-elevate)::after {
    background-color: var(--elevate-1);
  }

  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,
  .active-elevate-2:active:not(.no-default-active-elevate)::after {
    background-color: var(--elevate-2);
  }

  .border.hover-elevate::after,
  .border.active-elevate::after,
  .border.hover-elevate-2::after,
  .border.active-elevate-2::after {
    inset: -1px;
  }
}
